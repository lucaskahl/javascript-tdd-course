<!DOCTYPE html>
<html>
<head>
  <title>33 - Generator Ajax</title>
</head>
<body>
<script>
    function ajax(url) {
      fetch(url)
      .then(data => data.json)
      .then(data => dados.next(data));
    }

    // https://willianjusten.com.br/search.json
    // https://api.github.com/users/willianjusten

    function* ajaxGen(){
      console.log('Buscando dados');
      const posts = yield ajax('https://willianjusten.com.br/search.json');
      console.log(posts);

      console.log('Buscando dados do github');
      const github = yield ajax('https://api.github.com/users/lucaskahl');
      console.log(github);

      console.log('Buscando mais dados github');
      const github2 = yield ajax('https://api.github.com/users/willianjusten');
      console.log(github2);
    }

    const dados = ajaxGen();
    dados.next();



</script>
</body>
</html>
